<!--
  Generated template for the PublicacionPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-header>
  <ion-navbar color="primary">
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title *ngFor="let pub of publicacion">{{pub.nombre_publicacion}}</ion-title>

    <ion-buttons end>
      <button ion-button icon-only>
        <ion-icon name="eye" style="zoom:0.8;" *ngFor="let pub of publicacion"> {{pub.visitas}}</ion-icon>
      </button>
    </ion-buttons>

  </ion-navbar>
</ion-header>

<ion-content *ngFor="let pub of publicacion">

  <img src="../assets/imgs/paine.jpg">

  <ion-card (click)="irMapa()">
    <ion-item>
      <ion-icon name="md-map" item-start large></ion-icon>
      <h2>{{pub.direccion}}</h2>

    </ion-item>
  </ion-card>

  <button ion-button type="submit" (click)="irPublicacionesGuardadas()" style="float:right;">
    <ion-icon name="md-bookmark"></ion-icon>
  </button>

  <ion-grid margin-horizontal>

    <ion-row>
      <h3>Descripci칩n</h3>
    </ion-row>
    <ion-row>
      <p>{{pub.descripcion_publicacion}}</p>
    </ion-row>
  </ion-grid>

  <hr>

  <ion-grid margin-horizontal>
    <ion-row>
      <h3>Opiniones y valoraciones</h3>
    </ion-row>
    <ion-row>
      <ion-col>
        <ion-icon name="md-star" item-start large></ion-icon> Calificaci칩n {{pub.calificacion_publicacion}}/10
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
        <button ion-button (click)="irComentario(pub.id_publicacion)">Ver comentarios</button>
      </ion-col>
      <ion-col>
        <button ion-button (click)="irReview(pub.id_publicacion)">Ver rese침as</button>
      </ion-col>
    </ion-row>

  </ion-grid>

  <hr>

  <ion-grid margin-horizontal>
    <ion-row>
      <h3>Datos de contacto</h3>
    </ion-row>
    <ion-row>
      <ion-list no-margin>
        <ion-item (click)="verPubUsuario(pub.usuario)">
          <ion-icon name="md-contact" item-start></ion-icon>
          Representante: {{pub.nombre_usuario}}
        </ion-item>
      </ion-list>
    </ion-row>
    <ion-row>
      <ion-list no-margin>
        <ion-item>
          <ion-icon name="md-call" item-start></ion-icon>
          Telefono contacto: +56 {{pub.telefono_contacto}}
        </ion-item>
      </ion-list>
    </ion-row>
    <!--    <ion-row >
      <ion-list>
        <ion-item>
          <ion-icon name="md-locate" item-start></ion-icon>
            Direcci칩n Oficina: 
        </ion-item>
      </ion-list>
    </ion-row>        -->







    <ion-grid margin-horizontal *ngIf="etiqueta?.length;">
      <ion-row>
        <h3>Etiquetas:</h3>
      </ion-row>
      <div class="a">
        <p *ngFor="let et of etiqueta" (click)="verPubEtiqueta(et.id_etiqueta)">{{et.etiqueta}}</p>
      </div>


      <ion-row>
      </ion-row>
    </ion-grid>
    <br>

    <ion-row>
      <h3>Tambien te podria interesar...</h3>
    </ion-row>


    <ion-card *ngFor="let simp of similarPub" (click)="verPub(simp.id_publicacion)">
      <ion-card-content>

        Usuario
        <b> {{simp.nombre_publicacion}} </b>



        <p> {{simp.direccion}} </p>
        <p>Calificacion: {{simp.calificacion_publicacion}}</p>

        <p>Valor: {{simp.valor_publicacion}}</p>



      </ion-card-content>
    </ion-card>
    <!-- </div> -->


    <hr>
    <div class="centrado">
      <br>
      <ion-icon name="logo-facebook" style="zoom:3.0"></ion-icon>
      <ion-icon name="logo-instagram" style="zoom:3.0"></ion-icon>
      <ion-icon name="logo-twitter" style="zoom:3.0"></ion-icon>
    </div>
  </ion-grid>

  <br><br>

</ion-content>